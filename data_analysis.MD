# Data Analysis & Preprocessing Suggestions

> **Disclaimer**: This analysis was automatically generated by Gemini 3 Pro and is intended to be used as a preliminary review tool only.


Based on the `train_statistics.csv` and `test_statistics.csv` files, here is an analysis of the data quality issues and suggested preprocessing operations.

## 1. Missing Value Handling

### High Missing Rate (>80%)
The following columns have a very high percentage of missing values.
-   **Columns**: `PoolQC` (99.5%), `MiscFeature` (96%), `Alley` (93%), `Fence` (80%).
-   **PoolQC**: it's supposed to show quality of the pool, having NA on houses with no pool, however in test dataset there's three rows where it has NA but pool area is not 0, we need to decide how to deal with these if we decide to replace NA with "None" (we could assume minimum quality but not NA, or do something else).
-   **Suggestion**:
    -   **Drop**: These columns contain very little information.
    -   **Alternative**: Create a binary flag (e.g., `HasPool`, `HasAlley`) and then drop the original column.

### Structural Missing Values (NA = "None")
Many columns have missing values that likely indicate the absence of a feature rather than missing data.
-   **Garage Features** (`GarageType`, `GarageFinish`, `GarageQual`, `GarageCond`): ~5.5% missing. Matches `GarageYrBlt`.
-   **Basement Features** (`BsmtQual`, `BsmtCond`, `BsmtExposure`, `BsmtFinType1`, `BsmtFinType2`): ~2.5% missing.
-   **Fireplace**: `FireplaceQu` (~47% missing).
-   **Masonry**: `MasVnrType`, `MasVnrArea` (~0.5% missing).
-   **Suggestion**:
    -   **Categorical**: Impute with a new category "None" or "Missing".
    -   **Numeric** (`MasVnrArea`): Impute with 0.
    -   **GarageYrBlt**: This is tricky. Imputing with 0 skews the data. Consider dropping it or creating a "GarageAge" feature (imputing missing with 0 age or a distinct value).

### True Missing Values
-   **LotFrontage**: ~17% missing.
    -   **Suggestion**: Impute with the median `LotFrontage` of the neighborhood or the overall median.
-   **Electrical**: 1 missing value in Train.
    -   **Suggestion**: Impute with the mode (most frequent category).

### Test Set Specific Missing Values
The test set has missing values in columns that are complete in the training set.
-   **Columns**: `MSZoning`, `Utilities`, `Exterior1st`, `Exterior2nd`, `KitchenQual`, `Functional`, `SaleType`.
-   **Suggestion**: Impute with the **Mode** (most frequent value) from the **Training** set.
-   **Numeric**: `BsmtFinSF1`, `BsmtFinSF2`, `BsmtUnfSF`, `TotalBsmtSF`, `BsmtFullBath`, `BsmtHalfBath`, `GarageCars`, `GarageArea`.
    -   **Suggestion**: Impute with 0 (assuming missing means no basement/garage).

## 2. Feature Engineering & Transformations

### Data Types
-   **MSSubClass**: Currently numeric, but it represents codes.
    -   **Suggestion**: Convert to categorical (factor).
-   **Dates/Years**: `YearBuilt`, `YearRemodAdd`, `YrSold`.
    -   **Suggestion**: Create "Age" features (e.g., `Age = YrSold - YearBuilt`, `RemodAge = YrSold - YearRemodAdd`).

### Skewed Features
-   **Target**: `SalePrice` is likely right-skewed.
    -   **Suggestion**: Apply Log transformation (`log1p`) to normalize the distribution.
-   **Predictors**: Check skewness of numeric features (e.g., `LotArea`, `GrLivArea`) and apply log transform if necessary.

### Encoding
-   **Ordinal Variables**: `ExterQual`, `ExterCond`, `BsmtQual`, `KitchenQual`, etc., have an inherent order (Ex, Gd, Ta, Fa, Po).
    -   **Suggestion**: Map these to numeric values (e.g., Ex=5, Gd=4, ..., Po=1, NA=0).
-   **Nominal Variables**: `Neighborhood`, `SaleType`, etc.
    -   **Suggestion**: Use One-Hot Encoding (Dummy Variables).

## 3. Outliers
-   **Suggestion**: Check `GrLivArea` vs `SalePrice`. There are often a few large houses with low prices (outliers) in this dataset that can hurt model performance. Consider removing them.

## Summary of Proposed Pipeline
1.  **Clean**: Drop >80% missing cols.
2.  **Impute**:
    -   "None" for structural missing (Garage, Bsmt, etc.).
    -   0 for numeric structural missing.
    -   Median/Mode for true missing (`LotFrontage`, etc.).
3.  **Engineer**: Create Age features, cast `MSSubClass` to factor.
4.  **Encode**: Ordinal encoding for quality ratings, One-Hot for others.
5.  **Transform**: Log-transform `SalePrice` and skewed numeric features.
